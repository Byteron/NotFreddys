[gd_scene load_steps=11 format=3 uid="uid://cpqfrkyris6fj"]

[ext_resource type="Script" path="res://src/level/level.gd" id="1_5evho"]
[ext_resource type="PackedScene" uid="uid://bnmtdl41edhgn" path="res://src/level/maze.tscn" id="2_mxshm"]
[ext_resource type="PackedScene" uid="uid://w3kx0xop7gfl" path="res://src/monster/monster.tscn" id="2_xi6mj"]
[ext_resource type="PackedScene" uid="uid://brsfhy0qx11ak" path="res://src/guard/guard.tscn" id="3_hq3pm"]
[ext_resource type="Texture2D" uid="uid://y1pojuur2jt7" path="res://assets/images/hud/laugh.png" id="3_lrgnl"]
[ext_resource type="PackedScene" uid="uid://cy0xud2cmg30f" path="res://src/cam/cam.tscn" id="4_gaxnp"]
[ext_resource type="PackedScene" uid="uid://2mrbddcl1wad" path="res://src/battery/battery.tscn" id="6_t2rc0"]
[ext_resource type="PackedScene" uid="uid://dl82tvvb7yt3t" path="res://src/roomba/roomba.tscn" id="8_o1qqx"]

[sub_resource type="AtlasTexture" id="AtlasTexture_5esgl"]
atlas = ExtResource("3_lrgnl")
region = Rect2(0, 0, 72, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gfyp0"]
size = Vector2(48, 48)

[node name="Level" type="Node2D"]
script = ExtResource("1_5evho")
battery_scene = ExtResource("6_t2rc0")
max_batteries = 2

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ChargesRect" type="TextureRect" parent="CanvasLayer"]
texture_filter = 1
offset_right = 72.0
offset_bottom = 16.0
texture = SubResource("AtlasTexture_5esgl")
stretch_mode = 2

[node name="BatteryTimer" type="Timer" parent="."]
wait_time = 10.0
autostart = true

[node name="Maze" parent="." instance=ExtResource("2_mxshm")]

[node name="Guard" parent="." instance=ExtResource("3_hq3pm")]
position = Vector2(208, 112)

[node name="Monster" parent="." instance=ExtResource("2_xi6mj")]
position = Vector2(32, 112)

[node name="Cams" type="Node2D" parent="."]

[node name="Cam1" parent="Cams" instance=ExtResource("4_gaxnp")]
position = Vector2(88, 120)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cams/Cam1"]
shape = SubResource("RectangleShape2D_gfyp0")

[node name="Cam2" parent="Cams" instance=ExtResource("4_gaxnp")]
position = Vector2(344, 120)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cams/Cam2"]
shape = SubResource("RectangleShape2D_gfyp0")

[node name="Batteries" type="Node2D" parent="."]

[node name="Intersections" type="Node2D" parent="."]

[node name="Marker2D" type="Marker2D" parent="Intersections"]
position = Vector2(136, 72)

[node name="Marker2D2" type="Marker2D" parent="Intersections"]
position = Vector2(136, 40)

[node name="Marker2D3" type="Marker2D" parent="Intersections"]
position = Vector2(296, 40)

[node name="Marker2D4" type="Marker2D" parent="Intersections"]
position = Vector2(296, 72)

[node name="Marker2D5" type="Marker2D" parent="Intersections"]
position = Vector2(296, 168)

[node name="Marker2D6" type="Marker2D" parent="Intersections"]
position = Vector2(296, 200)

[node name="Marker2D7" type="Marker2D" parent="Intersections"]
position = Vector2(136, 200)

[node name="Marker2D8" type="Marker2D" parent="Intersections"]
position = Vector2(136, 168)

[node name="Marker2D9" type="Marker2D" parent="Intersections"]
position = Vector2(40, 168)

[node name="Marker2D10" type="Marker2D" parent="Intersections"]
position = Vector2(40, 72)

[node name="Marker2D11" type="Marker2D" parent="Intersections"]
position = Vector2(392, 72)

[node name="Marker2D12" type="Marker2D" parent="Intersections"]
position = Vector2(392, 168)

[node name="Marker2D13" type="Marker2D" parent="Intersections"]
position = Vector2(216, 200)

[node name="Marker2D14" type="Marker2D" parent="Intersections"]
position = Vector2(216, 168)

[node name="Marker2D15" type="Marker2D" parent="Intersections"]
position = Vector2(168, 168)

[node name="Marker2D16" type="Marker2D" parent="Intersections"]
position = Vector2(168, 72)

[node name="Marker2D17" type="Marker2D" parent="Intersections"]
position = Vector2(264, 72)

[node name="Marker2D18" type="Marker2D" parent="Intersections"]
position = Vector2(264, 168)

[node name="Marker2D19" type="Marker2D" parent="Intersections"]
position = Vector2(216, 40)

[node name="Marker2D20" type="Marker2D" parent="Intersections"]
position = Vector2(216, 72)

[node name="Roomba" parent="." instance=ExtResource("8_o1qqx")]
position = Vector2(384, 128)

[connection signal="timeout" from="BatteryTimer" to="." method="_on_battery_timer_timeout"]
[connection signal="area_entered" from="Monster" to="." method="_on_monster_area_entered"]
[connection signal="area_exited" from="Monster" to="." method="_on_monster_area_exited"]
